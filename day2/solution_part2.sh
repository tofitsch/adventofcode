#!/bin/bash
#
# RPS = 1 2 3
#     1 d w l
#     2 l d w
#     3 w l d

sed -e 's/A/1/' -e 's/B/2/' -e 's/C/3/' \
    -e 's/X/1/' -e 's/Y/2/' -e 's/Z/3/' \
    input.txt \
| awk '$2 == 2 {sum += $1 + 3}
       ($2 == 1 && $1 == 1) {sum += 3}
       ($2 == 1 && $1 == 2) {sum += 1}
       ($2 == 1 && $1 == 3) {sum += 2}
       ($2 == 3 && $1 == 1) {sum += 2 + 6}
       ($2 == 3 && $1 == 2) {sum += 3 + 6}
       ($2 == 3 && $1 == 3) {sum += 1 + 6}
       END {print sum}'

